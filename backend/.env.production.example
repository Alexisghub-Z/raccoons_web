# ============================================
# RACCOONS BACKEND - PRODUCCION
# ============================================
# Copiar como .env.production y completar los valores.
# El script deploy/init.sh genera los secrets automaticamente.
# ============================================

# ============================================
# SERVER
# ============================================
NODE_ENV=production
PORT=3001
API_VERSION=v1

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# En Docker, el host es "postgres" (nombre del servicio).
# El password se configura en POSTGRES_PASSWORD del docker-compose.
DATABASE_URL=postgresql://raccoons:CHANGE_ME@postgres:5432/raccoons_db?schema=public

# ============================================
# JWT AUTHENTICATION
# ============================================
# IMPORTANTE: Generar con: openssl rand -base64 64
JWT_SECRET=GENERATE_WITH_openssl_rand_-base64_64
JWT_REFRESH_SECRET=GENERATE_WITH_openssl_rand_-base64_64
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# EMAIL (Nodemailer + Gmail)
# ============================================
# Ver instrucciones en backend/.env.example para configurar Gmail App Password
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=raccoonssoporte@gmail.com
EMAIL_PASSWORD=jdfgnuvcudkbztko
EMAIL_FROM_NAME=Raccoons Taller
EMAIL_FROM_ADDRESS=raccoonssoporte@gmail.com
EMAIL_ENABLED=true

# ============================================
# SMS (Twilio) — DESACTIVADO
# ============================================
TWILIO_ENABLED=false
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# CLOUDINARY — DESACTIVADO
# ============================================
CLOUDINARY_ENABLED=false
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# ============================================
# REDIS
# ============================================
# En Docker, el host es "redis" (nombre del servicio)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# GOOGLE CALENDAR — DESACTIVADO
# ============================================
GOOGLE_CALENDAR_ENABLED=false
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=https://raccoonsoax.com/api/v1/auth/google/callback

# ============================================
# WEBSOCKETS
# ============================================
WEBSOCKET_PORT=3002
WEBSOCKET_CORS_ORIGIN=https://raccoonsoax.com

# ============================================
# CORS & FRONTEND
# ============================================
CORS_ORIGINS=https://raccoonsoax.com,https://www.raccoonsoax.com
FRONTEND_URL=https://raccoonsoax.com

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=warn
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ============================================
# NOTIFICATIONS
# ============================================
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000
DEFAULT_NOTIFICATION_CHANNELS=email
